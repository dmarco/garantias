FROM avatarla/docker-node-8.9-alpine-nodemon:latest

ARG SRC_DIR
ARG API_ENDPOINT
ARG SASS_VARS_VERSION

ENV API_URL "$API_ENDPOINT"
ENV SASS_VARS_VERSION "$SASS_VARS_VERSION"

ENV GTM "$GTM"
ENV RECAPTCHA_SITE_KEY "RECAPTCHA_SITE_KEY"
ENV RECAPTCHA_SECRET_KEY "$RECAPTCHA_SECRET_KEY"

WORKDIR /usr/app

COPY $SRC_DIR /usr/app

RUN npm install 
RUN npm run build

